---
id: web3
title: Web3 API Extensions
---

# Web3 API Extensions

The Keycard wallet behaves like a regular hardware wallet and thus dApps can use it transparently as any other account. The Cash applet however, not being associated to a wallet and not being suitable to sign transactions (since it does not hold funds), must be specifically supported by dApps supporting it, usually to sign [EIP-712](https://eips.ethereum.org/EIPS/eip-712) formatted metatx. For this reason we defined some extensions to the Web3 API. At the moment, these are supported by the [Status](https://status.im) app. The specifications in this page are both for dApps developers wanting to support Keycard Cash in their dApp as well as for wallet app developers wanting to implement these extensions.

## EIP-712 signing

Support for this is provided by a single function: `keycard_signTypedData(data)`.

This function takes the EIP-712 data in the same format as `eth_signTypedData` and returns a signature generated by the tapped Keycard Cash. This signature can then be sent, together with the message data, to an EIP-712 compatible smartcontract by he dApp. Assuming the Web 3.0 browser runs on a smartphone, calling this function will cause a pop-up to appear on the phone prompting to tap the Keycard. Since the function has all of the data being signed available, the screen can display this data in a user friendly way. In Status, messages for some specific smartcontracts are recognized and a custom UI is shown. These UX concern are not part of the specification itself, but implementers may want to consider this approach.

In order to generate the signature using Keycard Cash, browsers implementing this function should hash the message data, listen on the NFC interface and send the hash to the Keycard Cash applet which will return a signature. More details can be found in the [Cash applet](sdk/cash.html) section of this site.

This function only returns a signature. If your dApp requires knowing the address of the signer you can use `recoverTypedSignature(data, sig)` from the [eth-sig-util](https://github.com/MetaMask/eth-sig-util) package.

### Examples

The below projects make use of `keycard_signTypedData(data)`

* [Keycard Payment Network](https://github.com/status-im/payment-network-apps)
* [Keycard Redeem](https://github.com/status-im/keycard-redeem)